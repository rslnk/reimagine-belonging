<div class="o-wrapper">
  <countries-switcher></countries-switcher>

  <ul class="filter-list">
    <li class="filter-list__item o-btn c-btn--small c-btn--lightgrey c-btn--filter"
      ng-class="{ 'filter-list__item--active--indigo': filter.topics.length === 0 }"
      ng-click="resetTopicsFilter()">
      {{ siteConfig.all_events_filter_label }}
    </li>
    <li class="filter-list__item o-btn c-btn--small c-btn--lightgrey c-btn--filter"
      ng-repeat="topic in siteConfig.event_filters"
      ng-class="{ 'filter-list__item--active--indigo': filter.topics.indexOf(topic.slug) > -1 }"
      ng-click="toggleTopicInFilter(topic.slug)"
      ng-bind-html="topic.name">
    </li>
  </ul>
  <ul class="filter-counter">
    <li class="filter-counter__item">{{ siteConfig.timeline_total_events_label }}: <strong>{{ events.length }}</strong></li>
    <li class="filter-counter__item" ng-show="events.length != (events|filter: {hide: false}).length">{{ siteConfig.timeline_filtered_events_label }}: <strong>{{ (events|filter: {hide: false}).length}}</strong></li>
  </ul>
</div>
<div class="o-wrapper--row">
  <ul class="itemslide__carousel" carousel>
      <li carousel-item ng-repeat="event in events|showEvents:filter">
        <event-preview
          title="{{event.title}}"
          image="{{event.preview_image}}"
          year="{{event.year}}"
          ng-click="openEvent(event.slug)">
        </event-preview>
      </li>
  </ul>
  <div ui-view></div>
</div>
