<div class="c-events__head js-wrapper-block">

  <!-- timeline switcher-->
  <timeline-switcher></timeline-switcher>

  <!-- categories filter -->
  <div class="c-categories-filter">

    <!-- categories list -->
    <ul class="c-categories-filter__list">

      <!-- 'all topics' button -->
      <li class="c-categories-filter__item"
        ng-class="{ 'c-categories-filter__active--events': filter.topics.length === 0 }"
        ng-click="resetTopicsFilter()">
        {{ siteConfig.all_events_filter_label }}
      </li>

      <!-- topics -->
      <li class="c-categories-filter__item"
        ng-repeat="topic in siteConfig.event_filters"
        ng-class="{ 'c-categories-filter__active--events': filter.topics.indexOf(topic.slug) > -1 }"
        ng-click="toggleTopicInFilter(topic.slug)"
        ng-bind-html="topic.name">
      </li>

    </ul>

  </div>

  <!-- filter dashboard -->
  <div class="c-dashboard">

    <ul class="o-ui-list c-dashboard__info">
      <!-- total entries -->
      <li class="c-dashboard__posts-total">
        {{ siteConfig.timeline_total_events_label }}:
        <strong>{{ events.length }}</strong>
      </li>
      <!-- filtered entries -->
      <li class="c-dashboard__posts-filtered" ng-show="events.length != (events|filter: {hide: false}).length">
        {{ siteConfig.timeline_filtered_events_label }}:
        <strong>{{ (events|filter: {hide: false}).length}}</strong>
      </li>
    </ul>

  </div>

</div>

<!-- events list (timeline)  -->
<div class="c-events__list">

  <!-- timeline events corousel -->
  <carousel ng-if="filter.topics" class="c-timeline-events" data-options="{ navigation: false, pagination: true, rewindnav : false }">
      <event-preview
        carousel-item=""
        class="c-event-preview"
        ng-class="{'c-event-preview--disabled': event.hide === true}"
        ng-repeat="event in events|showEvents:filter"
        ng-click="openEvent(event.slug)"
        title="{{event.title}}"
        image="{{event.preview_image}}"
        year="{{event.year}}">
      </event-preview>
  </carousel>

  <!-- timeline events navigation -->
  <div class="c-timeline-navigation">
    <a href="#" class="o-icon c-icon-arrow--circle c-timeline-navigation__previous js-timeline-navigation__previous"></a>
    <div class="c-timeline-navigation__line"></div>
    <a href="#" class="o-icon c-icon-arrow--circle c-timeline-navigation__next js-timeline-navigation__next"></a>
  </div>

  <div ui-view></div>

</div>
